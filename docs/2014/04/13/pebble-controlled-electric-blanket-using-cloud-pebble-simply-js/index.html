<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

  	<meta property="og:title" content=" My Pebble controlled electric blanket using CloudPebble and Simply.js &middot;  Cross Dominant" />
  	<meta property="og:site_name" content="Cross Dominant" />
  	<meta property="og:url" content="https://conoroneill.net/2014/04/13/pebble-controlled-electric-blanket-using-cloud-pebble-simply-js/" />

    
  	<meta property="og:type" content="article" />

    <meta property="og:article:published_time" content="2014-04-13T10:48:56&#43;01:00" />

    
    

  <title>
     My Pebble controlled electric blanket using CloudPebble and Simply.js &middot;  Cross Dominant
  </title>

    <meta name="description" content="Mixed laterality since 1968" />

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://conoroneill.net/favicon.ico">
	  <link rel="apple-touch-icon" href="https://conoroneill.net/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://conoroneill.net/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://conoroneill.net/css/nav.css" />
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic|Open+Sans:700,400|Inconsolata" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css" integrity="sha384-5sAR7xN1Nv6T6+dT2mhtzEpVJvfS3NScPQTrOxhwjIuvcA67KV2R5Jz6kr4abQsz"
    crossorigin="anonymous">



    
      
          <link href="https://conoroneill.net/index.xml" rel="alternate" type="application/rss+xml" title="Cross Dominant" />
      
      
    
    <meta name="generator" content="Hugo 0.89.4" />

    <link rel="canonical" href="https://conoroneill.net/2014/04/13/pebble-controlled-electric-blanket-using-cloud-pebble-simply-js/" />

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-88610-4', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        

        
    </ul>


    
    <a class="subscribe-button icon-feed" href="https://conoroneill.net/index.xml">Subscribe</a>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="https://conoroneill.net/"><img src="https://conoroneill.net/images/cross_dominant.png" alt="Home" /></a>
  
  
      <a class="menu-button icon-feed" href="https://conoroneill.net/index.xml">&nbsp;&nbsp;Subscribe</a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">My Pebble controlled electric blanket using CloudPebble and Simply.js</h1>
        <small>It literally took 5 minutes to remotely control the Efergy RC mains sockets using the brilliant Cloud Pebble and Simply.js</small>

        <section class="post-meta">
        
          <time class="post-date" datetime="2014-04-13T10:48:56&#43;01:00">
            Apr 13, 2014
          </time>
        
         
        </section>
    </header>

    <section class="post-content">
      <p>Messing with hardware and software can be both a joy and incredibly infuriating. Yesterday I spent a few intermittent hours trying to get Arduino and Espruino communicating reliably over NRF24L01+ wireless transceivers. I only half succeeded. I followed this with some reading up on both <a href="https://cloudpebble.net">CloudPebble</a> and <a href="http://simplyjs.io/">Simply.js</a>. Literally 5 minutes later I had my first Pebble App installed on my watch and was remotely controlling the <a href="http://conoroneill.net/our-web-and-mobile-enabled-electric-blanket-using-electric-irelands-efergy-rc-sockets">electric blanket in our bed</a>.</p>
<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2014/04/pebble_blanket.jpg" alt="Bandon Blanket" title="Bandon Bed Button"></p>
<p>CloudPebble is a web-based IDE for building Pebble Apps. I believe it was started independently but is now run by <a href="http://getpebble.com">Pebble</a> themselves. Simply.js is a library/SDK for building Pebble Apps using only JavaScript. Pebble recently announced that CloudPebble now supports Simply.js and boy they weren&rsquo;t kidding. It&rsquo;s now childsplay to build Pebble Apps.</p>
<p>This is how quickly I built the App:</p>
<ul>
<li>Create a free Pebble <a href="https://developer.getpebble.com/">Developer account</a></li>
<li>Login to CloudPebble using your Pebble credentials</li>
<li>Create a project and pick Simply.js as the type</li>
<li>You automatically get the sample Simply.js App in the IDE</li>
<li>Compile that and send it to your Watch. You of course need the Pebble App on your phone with developer options enabled. The Pebble App will also tell you your phone&rsquo;s IP address which CloudPebble may ask for.</li>
<li>I&rsquo;ve found that I can&rsquo;t install from desktop but if I load the IDE URL on my phone I can do it from there. I assume this is because I&rsquo;m on house wifi and behind a firewall with a private IP.</li>
</ul>
<p>That first App looks like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Simply.js demo!&#39;</span>);

<span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;singleClick&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">e</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">util2</span>.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;single clicked $button!&#39;</span>, <span style="color:#a6e22e">e</span>));
  <span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">subtitle</span>(<span style="color:#e6db74">&#39;Pressed &#39;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">button</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;!&#39;</span>);
});

<span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;longClick&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">e</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">util2</span>.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;long clicked $button!&#39;</span>, <span style="color:#a6e22e">e</span>));
  <span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">vibe</span>();
  <span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">scrollable</span>(<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">button</span> <span style="color:#f92672">!==</span> <span style="color:#e6db74">&#39;select&#39;</span>);
});

<span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;accelTap&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">e</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">util2</span>.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;tapped accel axis $axis $direction!&#39;</span>, <span style="color:#a6e22e">e</span>));
  <span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">subtitle</span>(<span style="color:#e6db74">&#39;Tapped &#39;</span> <span style="color:#f92672">+</span> (<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">direction</span> <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;+&#39;</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;-&#39;</span>) <span style="color:#f92672">+</span> <span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">axis</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;!&#39;</span>);
});

<span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">setText</span>({
  <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Simply Demo!&#39;</span>,
  <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;This is a demo. Press buttons or tap the watch!&#39;</span>,
}, <span style="color:#66d9ef">true</span>);
</code></pre></div><p>And it you read the Simply.js site, you can access URLs like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">ajax</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://simplyjs.io&#39;</span> }, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">data</span>){
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">headline</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">data</span>.<span style="color:#a6e22e">match</span>(<span style="color:#e6db74">/&lt;h1&gt;(.*?)&lt;\/h1&gt;/</span>)[<span style="color:#ae81ff">1</span>];
  <span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">title</span>(<span style="color:#a6e22e">headline</span>);
});
</code></pre></div><p>Merge the two together and ta-daaaaa, the Bandon Bed Button Pebble App.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;Bandon Bed Button!&#39;</span>);

<span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">on</span>(<span style="color:#e6db74">&#39;singleClick&#39;</span>, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">e</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">util2</span>.<span style="color:#a6e22e">format</span>(<span style="color:#e6db74">&#39;single clicked $button!&#39;</span>, <span style="color:#a6e22e">e</span>));
  <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">button</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;up&#34;</span>){
    <span style="color:#a6e22e">ajax</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://url-of-conors-thing-to-turn-on&#39;</span> }, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">data</span>){
      <span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">subtitle</span>(<span style="color:#e6db74">&#39;Turned on Blanket!&#39;</span>);  
    });    
  } <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">e</span>.<span style="color:#a6e22e">button</span> <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;down&#34;</span>){
    <span style="color:#a6e22e">ajax</span>({ <span style="color:#a6e22e">url</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;http://url-of-conors-thing-to-turn-off&#39;</span> }, <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">data</span>){
      <span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">subtitle</span>(<span style="color:#e6db74">&#39;Turned off Blanket!&#39;</span>);  
    });        
  }
});

<span style="color:#a6e22e">simply</span>.<span style="color:#a6e22e">setText</span>({
  <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Bandon Bed Button!&#39;</span>,
  <span style="color:#a6e22e">body</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Press Up to turn on the blanket. Press Down to turn off the blanket.&#39;</span>,
}, <span style="color:#66d9ef">true</span>);
</code></pre></div><p>Just in case the data route for this is not clear, here&rsquo;s what it looks like:</p>
<p><img src="https://s3-eu-west-1.amazonaws.com/conoroneill.net/wp-content/uploads/2014/04/pebble_data_flow.png" alt="From Pebble to Switch" title="Pebble Data Flow"></p>
<p>I referred to this on Twitter last night as The Internet of Thangs. I&rsquo;m already sick of The Internet of Things. The IoT hype cycle is completely out of control before the first killer apps/products have even been created. Big Data has become Big Bullshit. I sincerely hope that the winner in this area hasn&rsquo;t even incorporated as a business yet. If we leave it to Google, Cisco, GE or any of the other behemoths, we&rsquo;ll end up with whatever they read in the last Suarez book rather than something that is a fundamental change in how we benefit from technology. The Pebble is never going to end up on everyone&rsquo;s wrists but by providing simple tools that any idiot like me can play with, it could be the seed that eventually leads to something huge. cf Altair, ZX Spectrum, BBC Micro, ARM, Arduino, Raspberry Pi.</p>

    </section>


  <footer class="post-footer">


    
    <figure class="author-image">
        <a class="img" href="https://conoroneill.net/" style="background-image: url(https://conoroneill.net/images/cross_dominant.png)"><span class="hidden">Conor O&#39;Neill's Picture</span></a>
    </figure>
    

    





<section class="author">
  <h4><a href="https://conoroneill.net/">Conor O&#39;Neill</a></h4>
  
  <p>Tech guy who likes running slowly</p>
  
  <div class="author-meta">
    <span class="author-location icon-location">Bandon, Cork, Ireland</span>
    <span class="author-link icon-link"><a href="https://conoroneill.net">https://conoroneill.net</a></span>
  </div>
</section>



    
<section class="share">
  <h4>Share this post</h4>
  <a class="icon-twitter" style="font-size: 1.4em" href="https://twitter.com/share?text=My%20Pebble%20controlled%20electric%20blanket%20using%20CloudPebble%20and%20Simply.js&amp;url=https%3a%2f%2fconoroneill.net%2f2014%2f04%2f13%2fpebble-controlled-electric-blanket-using-cloud-pebble-simply-js%2f"
      onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
      <span class="hidden">Twitter</span>
  </a>
  <a class="icon-facebook" style="font-size: 1.4em" href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fconoroneill.net%2f2014%2f04%2f13%2fpebble-controlled-electric-blanket-using-cloud-pebble-simply-js%2f"
      onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
      <span class="hidden">Facebook</span>
  </a>
  <a class="icon-pinterest" style="font-size: 1.4em" href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2fconoroneill.net%2f2014%2f04%2f13%2fpebble-controlled-electric-blanket-using-cloud-pebble-simply-js%2f&amp;description=My%20Pebble%20controlled%20electric%20blanket%20using%20CloudPebble%20and%20Simply.js"
      onclick="window.open(this.href, 'pinterest-share','width=580,height=296');return false;">
      <span class="hidden">Pinterest</span>
  </a>
  <a class="icon-google-plus" style="font-size: 1.4em" href="https://plus.google.com/share?url=https%3a%2f%2fconoroneill.net%2f2014%2f04%2f13%2fpebble-controlled-electric-blanket-using-cloud-pebble-simply-js%2f"
     onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
      <span class="hidden">Google+</span>
  </a>
</section>



    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'crossdominant';
  var disqus_url = 'https:\/\/conoroneill.net\/2014\/04\/13\/pebble-controlled-electric-blanket-using-cloud-pebble-simply-js\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>
    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Cross Dominant</a> </section>
        
        <section class="poweredby">Proudly generated by <a class="icon-hugo" href="http://gohugo.io">HUGO</a>, with <a class="icon-theme" href="https://github.com/vjeantet/hugo-theme-casper">Casper</a> theme</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://conoroneill.net/js/jquery.js"></script>
    <script type="text/javascript" src="https://conoroneill.net/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://conoroneill.net/js/index.js"></script>
    
</body>
</html>

